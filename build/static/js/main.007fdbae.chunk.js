(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{11:function(e,t,s){"use strict";s.r(t);var a=s(4),n=s(1),r=s(6),i=s(7),l=s(10),c=s(9),o=s(0),u=s(2),v=s.n(u),h=s(8),m=s.n(h);s(17);function d(e){var t=e.state.cssClass+" square",s=e.state.value;return Object(o.jsx)("button",{className:t,onClick:function(t){return e.clickHandle(t)},onContextMenu:function(t){t.preventDefault(),e.clickHandle(t)},children:s})}function f(e){for(var t=e.state.size,s=Array(t),a=function(t){var a={value:e.state.values[t],cssClass:e.state.cssClass[t]};s[t]=Object(o.jsx)(d,{state:a,clickHandle:function(s){return e.clickHandle(s,t)}})},n=0;n<s.length;n++)a(n);return Object(o.jsx)("div",{className:"board-row",children:s})}function b(e){for(var t=e.state.size,s=Array(t),a=function(a){var n={values:e.state.values.slice(a*t,a*t+t),cssClass:e.state.cssClass.slice(a*t,a*t+t),size:t};s[a]=Object(o.jsx)(f,{state:n,clickHandle:function(s,n){return e.clickHandle(s,a*t+n)}})},n=0;n<s.length;n++)a(n);return Object(o.jsx)("div",{className:"game-board",children:s})}function j(e){return Object(o.jsxs)("div",{className:"game-info game",children:[Object(o.jsx)("div",{className:"bombs-time",children:Object(o.jsx)("p",{children:C(e.bombs,3)})}),Object(o.jsx)("div",{className:"game-over",children:Object(o.jsx)("p",{children:e.msg})}),Object(o.jsx)("div",{className:"bombs-time",children:Object(o.jsx)("p",{children:C(e.time,3)})})]})}function O(e){var t=e.level[0].toUpperCase()+e.level.slice(1);return Object(o.jsxs)("div",{className:"input",children:[Object(o.jsx)("input",{type:"radio",name:"level",id:e.level,value:e.level,checked:e.checked,onChange:function(t){return e.levelControl(t)}}),Object(o.jsxs)("label",{for:e.level,children:[" ",t]})]})}function g(e){for(var t=function(t){return e.levelControl(t)},s=["easy","intermediate","hard"],a=Array(s.length),n=0;n<s.length;n++)a[n]=Object(o.jsx)(O,{level:s[n],checked:e.level===s[n],levelControl:t});return Object(o.jsx)("div",{className:"level game",children:a})}var p=function(e){Object(l.a)(s,e);var t=Object(c.a)(s);function s(e){var a;Object(r.a)(this,s),a=t.call(this,e);for(var n=e.size,i=Array(e.minesNumber),l=0;l<i.length;l++){var c=Math.floor(Math.random()*Math.pow(n,2));i.includes(c)?l--:i[l]=c}var o=["\u2620","\u2622","\u2623"],u=Math.floor(Math.random()*o.length);return a.state={values:Array(Math.pow(n,2)).fill(""),cssClass:Array(Math.pow(n,2)).fill(""),bomb:o[u],size:n,mines:i,phase:"paused",initialTime:e.time,time:e.time,msg:"",level:"easy"},a}return Object(i.a)(s,[{key:"componentDidMount",value:function(){s.timerID=null}},{key:"componentWillUnmount",value:function(){s.timerID&&clearInterval(s.timerID)}},{key:"restartGame",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e||(e=this.state.size),t||(t=this.state.mines.length);for(var a=Array(t),n=0;n<a.length;n++){var r=Math.floor(Math.random()*Math.pow(e,2));a.includes(r)?n--:a[n]=r}var i=this.state.initialTime;s.timerID&&clearInterval(s.timerID),s.timerID=null;var l=["\u2620","\u2622","\u2623"],c=Math.floor(Math.random()*l.length);this.setState({values:Array(Math.pow(e,2)).fill(""),cssClass:Array(Math.pow(e,2)).fill(""),bomb:l[c],size:e,mines:a,phase:"paused",time:i,msg:""})}},{key:"clickHandle",value:function(e,t){var r=this,i=this.state.values,l=this.state.cssClass,c=this.state.phase,o="",u=[];if("game-over"!==c&&this.state.time){if("paused"===c&&(c="playing",s.timerID||(s.timerID=setInterval((function(){var e=r.state.time;if(e--,r.setState({time:e}),e<=0){var t=x(r.state.values,r.state.cssClass,r.state.mines,r.state.size,r.state.bomb),a=Object(n.a)(t,2);i=a[0],l=a[1],r.setState({values:i,cssClass:l,phase:"game-over",msg:"Time is Over!"}),clearInterval(s.timerID)}}),1e3))),0===e.button){if(l[t])return;if(this.state.mines.includes(t)){var v=x(i,l,this.state.mines,this.state.size,this.state.bomb),h=Object(n.a)(v,2);i=h[0],(l=h[1])[t]="clicked",c="game-over",o="Exploded!!!",clearInterval(s.timerID)}else{var m=k(this.state.size,this.state.mines,t),d=Object(n.a)(m,3);i[t]=d[0],l[t]=d[1],u=d[2],0===i[t]&&(i[t]="")}if(!i[t]){var f,b=Object(a.a)(u);try{for(b.s();!(f=b.n()).done;){var j=y(f.value,i,l,this.state.mines,this.state.size,this.state.bomb),O=Object(n.a)(j,2);i=O[0],l=O[1]}}catch(C){b.e(C)}finally{b.f()}}}else if(2===e.button){if(l[t]&&"saved"!==l[t])return;i[t]=""===i[t]?"\u2691":"\u2691"===i[t]?"?":"","\u2691"===i[t]?l[t]="saved":l[t]=""}if("game-over"!==c&&this.state.mines.length===l.filter((function(e){return-1===e.indexOf("clicked")})).length){c="game-over",o="Victory!",clearInterval(s.timerID);var g=x(i,l,this.state.mines,this.state.size,this.state.bomb,!0),p=Object(n.a)(g,2);i=p[0],l=p[1]}this.setState({values:i,cssClass:l,phase:c,msg:o})}}},{key:"levelControl",value:function(e){var t=e.currentTarget.value,s=15,a=40;"easy"===t&&(s=9,a=10),"intermediate"===t&&(s=12,a=25),this.setState({size:s,level:t}),this.restartGame(s,a)}},{key:"render",value:function(){var e=this,t=this.state.mines,s=this.state.cssClass,a=t.length-s.filter((function(e){return"saved"===e})).length-s.filter((function(e){return"saved-true"===e})).length;return Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"title",children:"Minesweeper"}),Object(o.jsx)("div",{className:"game-area",children:Object(o.jsxs)("div",{children:[Object(o.jsx)(j,{bombs:a,time:this.state.time,msg:this.state.msg}),Object(o.jsx)("div",{className:"game",children:Object(o.jsx)(b,{state:this.state,clickHandle:function(t,s){return e.clickHandle(t,s)}})}),Object(o.jsx)(g,{level:this.state.level,levelControl:function(t){return e.levelControl(t)}}),Object(o.jsx)("div",{className:"restart",children:Object(o.jsx)("button",{className:"restart-button",onClick:function(){return e.restartGame()},children:"Restart Game"})})]})})]})}}]),s}(v.a.Component);function x(e,t,s,a,r){for(var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=0;l<e.length;l++)if(s.includes(l)&&(e[l]="saved"===t[l]||i?"\u2713":r,t[l]="saved"===t[l]||i?"saved-true":"clicked exploded"),"saved"===t[l]&&(e[l]="\u2717",t[l]="exploded"),!t[l]){var c=k(a,s,l),o=Object(n.a)(c,2);e[l]=o[0],t[l]=o[1],0===e[l]&&(e[l]="")}return[e,t]}function y(e,t,s,r,i,l){var c;if(s[e])return[t,s];var o=k(i,r,e),u=Object(n.a)(o,3);if(t[e]=u[0],s[e]=u[1],c=u[2],0===t[e]&&(t[e]=""),!t[e]){var v,h=Object(a.a)(c);try{for(h.s();!(v=h.n()).done;){var m=y(v.value,t,s,r,i,l),d=Object(n.a)(m,2);t=d[0],s=d[1]}}catch(f){h.e(f)}finally{h.f()}}return[t,s]}function k(e,t,s){for(var n=[s-e-1,s-e,s-e+1,s-1,s+1,s+e-1,s+e,s+e+1],r=Array(e),i=Array(e),l=[],c=0;c<e;c++)r[c]=c*e,i[c]=(c+1)*e-1;r.includes(s)&&(l=i),i.includes(s)&&(l=r);for(var o=0;o<8;o++)(n[o]<0||l.includes(n[o])||n[o]>Math.pow(e,2)-1)&&n.splice(o,1,"");n=n.filter((function(e){return""!==e}));var u,v=0,h=Object(a.a)(n);try{for(h.s();!(u=h.n()).done;){var m=u.value;t.includes(m)&&v++}}catch(d){h.e(d)}finally{h.f()}return[v,"clicked "+["","one","two","three","four","five","six","seven","eight"][v],n]}function C(e,t){var s="";return e<0&&(e*=-1,s="-"),(t-=e.toString().length-1)>0?s+new Array(t).join("0")+e:s+e+""}p.timerID=null,m.a.render(Object(o.jsx)(p,{size:9,minesNumber:10,time:120}),document.getElementById("root"))},17:function(e,t,s){}},[[11,1,2]]]);
//# sourceMappingURL=main.007fdbae.chunk.js.map