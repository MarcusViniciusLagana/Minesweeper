(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{11:function(e,t,s){"use strict";s.r(t);var r=s(5),a=s(3),i=s(6),n=s(7),l=s(10),o=s(9),c=s(0),u=s(1),m=s.n(u),h=s(8),b=s.n(h);s(17);function v(e){var t=e.squareCSS+" square",s=e.squareValue;return Object(c.jsx)("button",{className:t,onClick:function(t){return e.clickHandle(t)},onContextMenu:function(t){t.preventDefault(),e.clickHandle(t)},children:s})}function d(e){var t=e.squaresValues.map((function(t,s){return Object(c.jsx)(v,{squareValue:t,squareCSS:e.squaresCSS[s],clickHandle:function(t){return e.clickHandle(t,s)}},"square-"+e.row.toString()+"-"+s.toString())}));return Object(c.jsx)("div",{className:"board-row",children:t})}function f(e){for(var t=e.rowsNumber,s=e.columnsNumber,r=Array(t),a=function(t){var a=t*s,i=a+s,n=e.squaresValues.slice(a,i),l=e.squaresCSS.slice(a,i);r[t]=Object(c.jsx)(d,{row:t,squaresValues:n,squaresCSS:l,clickHandle:function(t,s){return e.clickHandle(t,a+s)}},"row-"+t.toString())},i=0;i<t;i++)a(i);return Object(c.jsx)("div",{className:"game-board",children:r})}function j(e){return Object(c.jsxs)("div",{className:"game-info game",children:[Object(c.jsx)("div",{className:"bombs-time",children:Object(c.jsx)("p",{children:k(e.bombsNumber,3)})}),Object(c.jsx)("div",{className:"game-over",children:Object(c.jsx)("p",{children:e.msg})}),Object(c.jsx)("div",{className:"bombs-time",children:Object(c.jsx)("p",{children:k(e.time,3)})})]})}function g(e){var t=e.level[0].toUpperCase()+e.level.slice(1);return Object(c.jsxs)("div",{className:"input",children:[Object(c.jsx)("input",{type:"radio",name:"level",id:e.level,value:e.level,checked:e.checked,onChange:function(t){return e.levelControl(t)}}),Object(c.jsxs)("label",{htmlFor:e.level,children:[" ",t]})]})}function N(e){var t=function(t){return e.levelControl(t)},s=["easy","intermediate","hard"].map((function(s,r){return Object(c.jsx)(g,{level:s,checked:e.level===s,levelControl:t},"op-"+r.toString())}));return Object(c.jsx)("div",{className:"level game",children:s})}var S=function(e){Object(l.a)(s,e);var t=Object(o.a)(s);function s(e){var r;Object(i.a)(this,s),r=t.call(this,e);for(var a=e.rows,n=e.columns,l=Array(e.minesNumber),o=0;o<e.minesNumber;o++){var c=Math.floor(Math.random()*a*n);l.includes(c)?o--:l[o]=c}var u=["\u2620","\u2622","\u2623"],m=Math.floor(Math.random()*u.length);return r.state={init:!0,squaresValues:Array(a*n).fill(""),squaresCSS:Array(a*n).fill(""),minesPositions:l,initialTime:e.time,time:e.time,rowsNumber:a,columnsNumber:n,bombSymbol:u[m],phase:"paused",level:"easy",msg:""},r}return Object(n.a)(s,[{key:"componentDidMount",value:function(){s.timerID=null}},{key:"componentWillUnmount",value:function(){s.timerID&&clearInterval(s.timerID)}},{key:"restartGame",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e||(e=this.state.rowsNumber),t||(t=this.state.columnsNumber),r||(r=this.state.minesPositions.length);for(var a=Array(r),i=0;i<r;i++){var n=Math.floor(Math.random()*e*t);a.includes(n)?i--:a[i]=n}var l=this.state.initialTime;s.timerID&&clearInterval(s.timerID),s.timerID=null;var o=["\u2620","\u2622","\u2623"],c=Math.floor(Math.random()*o.length);this.setState({init:!1,squaresValues:Array(e*t).fill(""),squaresCSS:Array(e*t).fill(""),minesPositions:a,time:l,rowsNumber:e,columnsNumber:t,bombSymbol:o[c],phase:"paused",msg:""})}},{key:"clickHandle",value:function(e,t){var i=this,n=this.state.squaresValues.slice(),l=this.state.squaresCSS.slice(),o=this.state.phase,c="",u=[];if("game-over"!==o&&this.state.time){if("paused"===o&&(o="playing",s.timerID||(s.timerID=setInterval((function(){var e=i.state.time;if(e--,i.setState({time:e}),e<=0){var t=i.state.squaresValues.slice(),r=i.state.squaresCSS.slice();x(t,r,i.state.minesPositions,i.state.bombSymbol,i.state.rowsNumber,i.state.columnsNumber),i.setState({squaresValues:t,squaresCSS:r,phase:"game-over",msg:"Time is Over!"}),clearInterval(s.timerID)}}),1e3))),0===e.button){if(l[t])return;if(this.state.minesPositions.includes(t))x(n,l,this.state.minesPositions,this.state.bombSymbol,this.state.rowsNumber,this.state.columnsNumber),l[t]="clicked",o="game-over",c="Exploded!!!",clearInterval(s.timerID);else{var m=y(t,this.state.minesPositions,this.state.rowsNumber,this.state.columnsNumber),h=Object(a.a)(m,3);if(n[t]=h[0],l[t]=h[1],u=h[2],0===n[t]){n[t]="";var b,v=Object(r.a)(u);try{for(v.s();!(b=v.n()).done;){p(b.value,n,l,this.state.minesPositions,this.state.rowsNumber,this.state.columnsNumber)}}catch(d){v.e(d)}finally{v.f()}}}}else if(2===e.button){if(l[t]&&"saved"!==l[t])return;n[t]=""===n[t]?"\u2691":"\u2691"===n[t]?"?":"","\u2691"===n[t]?l[t]="saved":l[t]=""}"game-over"!==o&&this.state.minesPositions.length===l.filter((function(e){return-1===e.indexOf("clicked")})).length&&(o="game-over",c="Victory!",clearInterval(s.timerID),x(n,l,this.state.minesPositions,this.state.bombSymbol,this.state.rowsNumber,this.state.columnsNumber,!0)),this.setState({squaresValues:n,squaresCSS:l,phase:o,msg:c})}}},{key:"levelControl",value:function(e){var t=e.currentTarget.value,s=13,r=18,a=40;"easy"===t&&(s=9,r=9,a=10),"intermediate"===t&&(s=12,r=12,a=22),this.setState({level:t}),this.restartGame(s,r,a)}},{key:"render",value:function(){var e=this,t=this.state.minesPositions.length,s=this.state.squaresCSS,r=t-s.filter((function(e){return"saved"===e})).length-s.filter((function(e){return"saved-true"===e})).length;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(O,{init:this.state.init,onClick:function(){return e.restartGame()}}),Object(c.jsx)("div",{className:"title",children:"Minesweeper"}),Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("div",{className:"game-area",children:[Object(c.jsx)(j,{bombsNumber:r,time:this.state.time,msg:this.state.msg}),Object(c.jsx)("div",{className:"game",children:Object(c.jsx)(f,{squaresValues:this.state.squaresValues,squaresCSS:this.state.squaresCSS,rowsNumber:this.state.rowsNumber,columnsNumber:this.state.columnsNumber,clickHandle:function(t,s){return e.clickHandle(t,s)}})}),Object(c.jsx)(N,{level:this.state.level,levelControl:function(t){return e.levelControl(t)}}),Object(c.jsx)("div",{className:"restart",children:Object(c.jsx)("button",{className:"restart-button",onClick:function(){return e.restartGame()},children:"Restart Game"})})]})})]})}}]),s}(m.a.Component);function O(e){var t="initial-txt",s="initial-img",r="restart-button abs-btn",a="initial";return e.init||(t+=" trigger",s+=" trigger",r+=" trigger",a+=" trigger"),Object(c.jsxs)("div",{className:a,children:[Object(c.jsx)("img",{className:s,alt:"background",src:"./Minebackground.png"}),Object(c.jsx)("img",{className:s+" mine",alt:"Mine by Samuel Schoenberger from the Noun Project",src:"./MinelogoSolo.png"}),Object(c.jsx)("div",{className:t,children:"* Mine icon by Samuel Schoenberger from the Noun Project"}),Object(c.jsx)("button",{className:r,onClick:e.onClick,children:"START"})]})}function x(e,t,s,r,i,n){for(var l=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=0;o<e.length;o++)if(s.includes(o)&&(e[o]="saved"===t[o]||l?"\u2713":r,t[o]="saved"===t[o]||l?"saved-true":"clicked exploded"),"saved"===t[o]&&(e[o]="\u2717",t[o]="exploded"),!t[o]){var c=y(o,s,i,n),u=Object(a.a)(c,2);e[o]=u[0],t[o]=u[1],0===e[o]&&(e[o]="")}}function p(e,t,s,i,n,l){for(var o=[e],c=[],u=0;;){if(!s[o[u]]){var m=y(o[u],i,n,l),h=Object(a.a)(m,3);if(t[o[u]]=h[0],s[o[u]]=h[1],c=h[2],0===t[o[u]]){t[o[u]]="";var b,v=Object(r.a)(c);try{for(v.s();!(b=v.n()).done;){var d=b.value;o.includes(d)||o.push(d)}}catch(f){v.e(f)}finally{v.f()}}}if(!(u<o.length-1))return;u++}}function y(e,t,s,r){for(var a=Math.floor(e/r),i=e%r,n=[],l=a-1;l<a+2;l++)if(!(l<0||l>s-1))for(var o=i-1;o<i+2;o++)l===a&&o===i||o<0||o>r-1||n.push(l*r+o);for(var c=0,u=0,m=n;u<m.length;u++){var h=m[u];t.includes(h)&&c++}return[c,"clicked "+["","one","two","three","four","five","six","seven","eight"][c],n]}function k(e,t){var s="";return e<0&&(e*=-1,s="-"),(t-=e.toString().length-1)>0?s+new Array(t).join("0")+e:s+e+""}S.timerID=null,b.a.render(Object(c.jsx)(S,{rows:9,columns:9,minesNumber:10,time:120}),document.getElementById("root"))},17:function(e,t,s){}},[[11,1,2]]]);
//# sourceMappingURL=main.273b6dcd.chunk.js.map