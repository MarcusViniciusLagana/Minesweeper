(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{16:function(e,t,i){},17:function(e,t,i){"use strict";i.r(t);var n=i(3),a=i(2),s=i(4),r=i(5),l=i(7),c=i(6),o=i(0),u=i(1),m=i.n(u),v=i(10),d=i.n(v);function b(e){var t=e.squareCSS+" square",i=e.squareValue;return Object(o.jsx)("button",{className:t,onClick:function(t){return e.clickHandle(t)},onContextMenu:function(t){t.preventDefault(),e.clickHandle(t)},children:i})}function h(e){var t=e.squaresValues.map((function(t,i){return Object(o.jsx)(b,{squareValue:t,squareCSS:e.squaresCSS[i],clickHandle:function(t){return e.clickHandle(t,i)}},"square-"+e.row.toString()+"-"+i.toString())}));return Object(o.jsx)("div",{className:"board-row",children:t})}function S(e){for(var t=e.rowsNumber,i=e.columnsNumber,n=Array(t),a=function(t){var a=t*i,s=a+i,r=e.squaresValues.slice(a,s),l=e.squaresCSS.slice(a,s);n[t]=Object(o.jsx)(h,{row:t,squaresValues:r,squaresCSS:l,clickHandle:function(t,i){return e.clickHandle(t,a+i)}},"row-"+t.toString())},s=0;s<t;s++)a(s);return Object(o.jsx)("div",{className:"game-board",children:n})}function f(e){return Object(o.jsxs)("div",{className:"game-info game",children:[Object(o.jsx)("div",{className:"bombs-time",children:Object(o.jsx)("p",{children:p(e.bombsNumber,3)})}),Object(o.jsx)("div",{className:"game-over",children:Object(o.jsx)("p",{children:e.msg})}),Object(o.jsx)("div",{className:"bombs-time",children:Object(o.jsx)("p",{children:p(e.time,3)})})]})}function p(e,t){var i="";return e<0&&(e*=-1,i="-"),(t-=e.toString().length-1)>0?i+new Array(t).join("0")+e:i+e+""}function j(e){var t=e.level[0].toUpperCase()+e.level.slice(1);return Object(o.jsxs)("div",{className:"input",children:[Object(o.jsx)("input",{type:"radio",name:"level",id:e.level,value:e.level,checked:e.checked,onChange:function(t){return e.levelControl(t)}}),Object(o.jsxs)("label",{htmlFor:e.level,children:[" ",t]})]})}function g(e){var t=function(t){return e.levelControl(t)},i=["easy","intermediate","hard"].map((function(i,n){return Object(o.jsx)(j,{level:i,checked:e.level===i,levelControl:t},"op-"+n.toString())}));return Object(o.jsx)("div",{className:"level game",children:i})}function x(e){var t=e.img;return Object(o.jsx)("img",{className:e.initialState?t.activeCSS:t.deactiveCSS,alt:t.alt,src:t.src})}function O(e){var t=e.btn;return Object(o.jsx)("button",{className:e.initialState?t.activeCSS:t.deactiveCSS,onClick:e.clickHandle,children:t.text})}function y(e){for(var t=e.div,i=[],n=0;n<t.content.length;n++){var a=t.content[n],s=e.index+"-"+a.type+"-"+n.toString();"text"===a.type&&i.push(a.text),"img"===a.type&&i.push(Object(o.jsx)(x,{initialState:e.initialState,img:a},s)),"btn"===a.type&&i.push(Object(o.jsx)(O,{initialState:e.initialState,btn:a,clickHandle:e.clickHandle},s)),"div"===a.type&&i.push(Object(o.jsx)(y,{index:s,initialState:e.initialState,div:a,clickHandle:e.clickHandle},s))}return Object(o.jsx)("div",{className:e.initialState?t.activeCSS:t.deactiveCSS,children:i})}var C=function(e){Object(l.a)(i,e);var t=Object(c.a)(i);function i(e){var n;return Object(s.a)(this,i),(n=t.call(this,e)).state={initialState:!0,isVisible:!0,autoFadeOut:e.autoFadeOut,time:1e3*e.time,content:e.content},n}return Object(r.a)(i,[{key:"componentDidMount",value:function(){i.invisibleTimer=null,i.fadeOutTimer=null}},{key:"componentWillUnmount",value:function(){i.invisibleTimer&&clearInterval(i.invisibleTimer),i.fadeOutTimer&&clearInterval(i.fadeOutTimer)}},{key:"turnInvisible",value:function(){this.setState({isVisible:!1})}},{key:"fadeOut",value:function(){var e=this;this.setState({initialState:!1,autoFadeOut:!1}),i.invisibleTimer?this.turnInvisible():i.invisibleTimer=setTimeout((function(){return e.turnInvisible()}),this.state.time)}},{key:"render",value:function(){var e=this;if(!this.state.isVisible)return null;for(var t=this.state.content.slice(),n=function(){return e.fadeOut()},a=[],s=0;s<t.length;s++){var r=t[s],l=r.type+"-"+s.toString();"text"===r.type&&a.push(r.text),"img"===r.type&&a.push(Object(o.jsx)(x,{initialState:this.state.initialState,img:r},l)),"btn"===r.type&&a.push(Object(o.jsx)(O,{initialState:this.state.initialState,btn:r,clickHandle:n},l)),"div"===r.type&&a.push(Object(o.jsx)(y,{index:l,initialState:this.state.initialState,div:r,clickHandle:n},l))}return this.state.autoFadeOut&&!i.fadeOutTimer&&(i.fadeOutTimer=setTimeout((function(){return e.fadeOut()}),this.state.time)),Object(o.jsxs)(o.Fragment,{children:[" ",a," "]})}}]),i}(m.a.Component);C.invisibleTimer=null,C.fadeOutTimer=null;var N=[{type:"div",activeCSS:"basic initial",deactiveCSS:"basic initial vanish",content:[{type:"img",activeCSS:"initial-img",deactiveCSS:"initial-img vanish",alt:"background",src:"./Minebackground.png"},{type:"img",activeCSS:"initial-img mine",deactiveCSS:"initial-img mine vanish",alt:"Mine by Samuel Schoenberger from the Noun Project",src:"./MinelogoSolo.png"},{type:"div",activeCSS:"initial-txt",deactiveCSS:"initial-txt vanish",content:[{type:"text",text:"* Mine icon by Samuel Schoenberger from the Noun Project"}]},{type:"btn",activeCSS:"restart-button btn-position",deactiveCSS:"restart-button btn-position vanish",text:"START"}]}],k=[{type:"div",activeCSS:"basic transparent",deactiveCSS:"basic transparent",content:[{type:"div",activeCSS:"basic-bg victory",deactiveCSS:"basic-bg victory",content:[{type:"text",text:"VICTORY !!!"}]}]}],q=[{type:"div",activeCSS:"basic transparent",deactiveCSS:"basic transparent",content:[{type:"div",activeCSS:"basic-bg time",deactiveCSS:"basic-bg time",content:[{type:"text",text:"Time is Over !!!"}]}]}],I=[{type:"div",activeCSS:"basic blood-transparent",deactiveCSS:"basic blood",content:[{type:"img",activeCSS:"explosion-position bomb",deactiveCSS:"explosion-position bomb",alt:"explosion",src:"./explosion.png"},{type:"div",activeCSS:"foot-movement",deactiveCSS:"foot-movement",content:[{type:"img",activeCSS:"explosion-position foot",deactiveCSS:"explosion-position foot",alt:"foot",src:"./foot.png"}]},{type:"div",activeCSS:"no-text",deactiveCSS:"basic-bg yes-text",content:[{type:"text",text:"You Died !!!"}]},{type:"btn",activeCSS:"basic transparent",deactiveCSS:"basic transparent",text:null}]}];function w(e,t,i,n,s,r){for(var l=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=0;c<e.length;c++)if(i.includes(c)&&(e[c]="saved"===t[c]||l?"\u2713":n,t[c]="saved"===t[c]||l?"saved-true":"clicked exploded"),"saved"===t[c]&&(e[c]="\u2717",t[c]="exploded"),!t[c]){var o=M(c,i,s,r),u=Object(a.a)(o,2);e[c]=u[0],t[c]=u[1],0===e[c]&&(e[c]="")}}function T(e,t,i,s,r,l){for(var c=[e],o=[],u=0;;){if(!i[c[u]]){var m=M(c[u],s,r,l),v=Object(a.a)(m,3);if(t[c[u]]=v[0],i[c[u]]=v[1],o=v[2],0===t[c[u]]){t[c[u]]="";var d,b=Object(n.a)(o);try{for(b.s();!(d=b.n()).done;){var h=d.value;c.includes(h)||c.push(h)}}catch(S){b.e(S)}finally{b.f()}}}if(!(u<c.length-1))return;u++}}function M(e,t,i,n){for(var a=Math.floor(e/n),s=e%n,r=[],l=a-1;l<a+2;l++)if(!(l<0||l>i-1))for(var c=s-1;c<s+2;c++)l===a&&c===s||c<0||c>n-1||r.push(l*n+c);for(var o=0,u=0,m=r;u<m.length;u++){var v=m[u];t.includes(v)&&o++}return[o,"clicked "+["","one","two","three","four","five","six","seven","eight"][o],r]}i(16);var V=function(e){Object(l.a)(i,e);var t=Object(c.a)(i);function i(e){var n;Object(s.a)(this,i),n=t.call(this,e);for(var a=e.rows,r=e.columns,l=Array(e.minesNumber),c=0;c<e.minesNumber;c++){var o=Math.floor(Math.random()*a*r);l.includes(o)?c--:l[c]=o}var u=["\u2620","\u2622","\u2623"],m=Math.floor(Math.random()*u.length);return n.state={squaresValues:Array(a*r).fill(""),squaresCSS:Array(a*r).fill(""),minesPositions:l,initialTime:e.time,time:e.time,rowsNumber:a,columnsNumber:r,bombSymbol:u[m],phase:"paused",level:"easy",msg:""},n}return Object(r.a)(i,[{key:"componentDidMount",value:function(){i.timerID=null}},{key:"componentWillUnmount",value:function(){i.timerID&&clearInterval(i.timerID)}},{key:"restartGame",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e||(e=this.state.rowsNumber),t||(t=this.state.columnsNumber),n||(n=this.state.minesPositions.length);for(var a=Array(n),s=0;s<n;s++){var r=Math.floor(Math.random()*e*t);a.includes(r)?s--:a[s]=r}var l=this.state.initialTime;i.timerID&&clearInterval(i.timerID),i.timerID=null;var c=["\u2620","\u2622","\u2623"],o=Math.floor(Math.random()*c.length);this.setState({squaresValues:Array(e*t).fill(""),squaresCSS:Array(e*t).fill(""),minesPositions:a,time:l,rowsNumber:e,columnsNumber:t,bombSymbol:c[o],phase:"paused",msg:""})}},{key:"clickHandle",value:function(e,t){var s=this,r=this.state.squaresValues.slice(),l=this.state.squaresCSS.slice(),c=this.state.phase,o="",u=[];if("game-over"!==c&&this.state.time){if("paused"===c&&(c="playing",i.timerID||(i.timerID=setInterval((function(){var e=s.state.time;e--,s.setState({time:e}),e<=0&&(s.setState({phase:"game-over",msg:"Time is Over!"}),clearInterval(i.timerID))}),1e3))),0===e.button){if(l[t])return;if(this.state.minesPositions.includes(t))w(r,l,this.state.minesPositions,this.state.bombSymbol,this.state.rowsNumber,this.state.columnsNumber),l[t]="clicked",c="game-over",o="Exploded!!!",clearInterval(i.timerID);else{var m=M(t,this.state.minesPositions,this.state.rowsNumber,this.state.columnsNumber),v=Object(a.a)(m,3);if(r[t]=v[0],l[t]=v[1],u=v[2],0===r[t]){r[t]="";var d,b=Object(n.a)(u);try{for(b.s();!(d=b.n()).done;){T(d.value,r,l,this.state.minesPositions,this.state.rowsNumber,this.state.columnsNumber)}}catch(h){b.e(h)}finally{b.f()}}}}else if(2===e.button){if(l[t]&&"saved"!==l[t])return;r[t]=""===r[t]?"\u2691":"\u2691"===r[t]?"?":"","\u2691"===r[t]?l[t]="saved":l[t]=""}"game-over"!==c&&this.state.minesPositions.length===l.filter((function(e){return-1===e.indexOf("clicked")})).length&&(c="game-over",o="Victory!",clearInterval(i.timerID),w(r,l,this.state.minesPositions,this.state.bombSymbol,this.state.rowsNumber,this.state.columnsNumber,!0)),this.setState({squaresValues:r,squaresCSS:l,phase:c,msg:o})}}},{key:"levelControl",value:function(e){var t=e.currentTarget.value,i=13,n=18,a=40;"easy"===t&&(i=9,n=9,a=10),"intermediate"===t&&(i=12,n=12,a=22),document.documentElement.style.setProperty("--width",40*n+"px"),document.documentElement.style.setProperty("--height",40*i+"px"),this.setState({level:t}),this.restartGame(i,n,a)}},{key:"render",value:function(){var e=this,t=this.state.minesPositions.length,i=this.state.squaresCSS,n=t-i.filter((function(e){return"saved"===e})).length-i.filter((function(e){return"saved-true"===e})).length,a=null;return"Victory!"===this.state.msg&&(a=Object(o.jsx)(C,{autoFadeOut:!0,time:1,content:k})),"Time is Over!"===this.state.msg&&(a=Object(o.jsx)(C,{autoFadeOut:!0,time:1,content:q})),"Exploded!!!"===this.state.msg&&(a=Object(o.jsx)(C,{autoFadeOut:!0,time:3,content:I})),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(C,{autoFadeOut:!1,time:5,content:N}),a,Object(o.jsx)("div",{className:"title",children:"Minesweeper"}),Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)("div",{className:"game-area",children:[Object(o.jsx)(f,{bombsNumber:n,time:this.state.time,msg:this.state.msg}),Object(o.jsx)("div",{className:"game",children:Object(o.jsx)(S,{squaresValues:this.state.squaresValues,squaresCSS:this.state.squaresCSS,rowsNumber:this.state.rowsNumber,columnsNumber:this.state.columnsNumber,clickHandle:function(t,i){return e.clickHandle(t,i)}})}),Object(o.jsx)(g,{level:this.state.level,levelControl:function(t){return e.levelControl(t)}}),Object(o.jsx)("div",{className:"restart",children:Object(o.jsx)("button",{className:"restart-button",onClick:function(){return e.restartGame()},children:"Restart Game"})})]})})]})}}]),i}(m.a.Component);V.timerID=null,d.a.render(Object(o.jsx)(V,{rows:9,columns:9,minesNumber:10,time:120}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.48ec4e4d.chunk.js.map